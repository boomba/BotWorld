<!doctype html>
<html>
    <head>
        <style>
            #board {
                width: 250px;
                height: 250px;
            }
            .cell {
                width: 48px;
                height: 48px;
                background-color: gray;
                float: left;
                border: 1px solid black;
            }
            #board .player {
                background-color: green;
            }
            <style>canvas { width: 100%; height: 100% }</style>
        </style>
    </head>

    <body>
        <script>
            var debug = true;
        </script>
        <script src="https://raw.github.com/mrdoob/three.js/master/build/three.js"></script>
        <script src="js/graphics.js"></script>
        <script src="js/Entity.js"></script>
        <script src="js/Terrain.js"></script>
        <script src="js/Player.js"></script>
        <script src="js/Resource.js"></script>
        <script>
            var engine = {
                entities: [
                    new Player(-5, 0, "Ian"),
                    new Terrain(0, 0, 5, 5),
                    new Resource(1, 0, 50),
                    new Resource(-3, 6, 10)
                ],
                resources: new Array(),
                initEntities: function(scene) {
                    var i;
                    var len = this.entities.length;
                    for (i = 0; i < len; i++) {

                        var obj = this.entities[i];
                        if (obj.type == "Player") {
                            this.player = obj;
                            obj.birth(scene);
                        } else if (obj.type == "Terrain") {
                            this.terrain = obj;
                            obj.arise(scene);
                        } else if (obj.type == "Resource") {
                            this.resources.push(obj);
                            obj.deposit(scene);
                        }

                    }
                },

                updateEntities: function() {
                    for (var i = 0, len = this.entities.length; i < len; i++) {
                        var obj = this.entities[i];
                        obj.step();
                        obj.updateBody();
                    }
                },
            };

            var world = initWorld();
            engine.initEntities(world.scene);
            engine.player.moveTo(-3, 5);
            timestepEnd = Date.now();
            animate();
        </script>
    </body>
</html>
